# Cardano sắp nâng cấp Vasil: điều gì sẽ xảy ra

### **Việc nâng cấp Vasil sẽ tăng cường chức năng, hiệu suất, khả năng mở rộng và khả năng tương tác cho Cardano thông qua các tính năng và cải tiến mới**

![](img/2022-07-04-cardano-s-approaching-vasil-upgrade-what-to-expect.002.png) 4 tháng 7 năm 2022 ![](img/2022-07-04-cardano-s-approaching-vasil-upgrade-what-to-expect.002.png) [Tim Harrison](/en/blog/authors/tim-harrison/page-1/) ![](img/2022-07-04-cardano-s-approaching-vasil-upgrade-what-to-expect.003.png) 9 phút đọc

![Tim Harrison](img/2022-07-04-cardano-s-approaching-vasil-upgrade-what-to-expect.004.png)[](/en/blog/authors/tim-harrison/page-1/)

### [**Tim Harrison**](/en/blog/authors/tim-harrison/page-1/)

VP of Community &amp; Ecosystem

Communications

- ![](img/2022-07-04-cardano-s-approaching-vasil-upgrade-what-to-expect.005.png)[](mailto:tim.harrison@iohk.io "Email")
- ![](img/2022-07-04-cardano-s-approaching-vasil-upgrade-what-to-expect.006.png)[](https://uk.linkedin.com/in/timbharrison "LinkedIn")
- ![](img/2022-07-04-cardano-s-approaching-vasil-upgrade-what-to-expect.007.png)[](https://twitter.com/timbharrison "Twitter")
- ![](img/2022-07-04-cardano-s-approaching-vasil-upgrade-what-to-expect.008.png)[](https://github.com/timbharrison "GitHub")

![Cardano’s approaching Vasil upgrade: what to expect](img/2022-07-04-cardano-s-approaching-vasil-upgrade-what-to-expect.009.png)

The Vasil upgrade will bring significant performance and capability enhancements to Cardano. The network has seen consistent incremental improvements over the past couple of years – and the launch of NFT, multi-asset and smart contract capability in 2021 – but put simply, Vasil is the most significant network upgrade since the deployment of staking via [Shelley.](https://www.coindesk.com/tech/2020/07/30/cardano-introduces-proof-of-stake-with-shelley-hard-fork/)

In June, the node team released the brand new Cardano node version 1.35.0, the foundation for the Vasil upgrade. This latest release enables the use of new Plutus capabilities after the Vasil upgrade, including node and CLI support for reference inputs, inline datums, reference scripts, collateral output, and Plutus V2 primitives.

On June 28, the IOG team [reported](https://twitter.com/InputOutputHK/status/1541800451460431872) it had submitted an update proposal to hard fork the Cardano testnet, and commenced the countdown for the Vasil mainnet upgrade.

Bây giờ, nhờ các nhà điều hành nhóm cổ phần (SPO) hỗ trợ mạng testnet Cardano (và nỗ lực đồng nhất của họ để nâng cấp các node mạng testnet của họ lên phiên bản 1.35.0 vào tuần trước), các nhà phát triển sẽ sớm bắt đầu tận hưởng các cải tiến và khả năng mới của Vasil mà chúng ta sẽ sớm xem trên mainnet. IOG đã hard fork thành công testnet Cardano vào lúc 20:20 UTC vào ngày 3 tháng 7 năm 2022 và các tính năng của Plutus V2 sẽ khả dụng sau một thời gian nữa.

## **Tất cả về Vasil**

Cũng như mang lại những cải tiến cho hợp đồng thông minh, việc nâng cấp là một phần của giai đoạn *Basho* của lộ trình Cardano, tập trung vào việc mở rộng quy mô và tối ưu hóa mạng lưới &amp; sổ cái, đồng thời sẽ mang lại nhiều cải tiến cho sổ cái. Vasil sẽ được triển khai ở cấp độ giao thức bằng cách sử dụng [bộ tổ hợp hard-fork của Cardano](https://iohk.io/en/blog/posts/2020/05/07/combinator-makes-easy-work-of-shelley-hard-fork/) (HFC) - công nghệ sáng tạo giúp chuyển đổi giao thức liền mạch và nâng cấp sổ cái nhằm giảm thiểu sự gián đoạn cho người dùng cuối.

Bản nâng cấp - được đặt tên để vinh danh [ Vasil St. Dabov](https://www.youtube.com/watch?v=OFKrVcEg0Jc) , một cố đại sứ của Cardano, người đã qua đời vào năm 2021 - Bản nâng cấp này sẽ triển khai các tính năng được nhiều người mong đợi như [ diffusion pipelining ](https://iohk.io/en/blog/posts/2022/02/01/introducing-pipelining-cardanos-consensus-layer-scaling-solution/) và [nâng cấp Plutus](https://iohk.io/en/blog/posts/2022/04/13/boosting-cardano-s-throughput-with-script-referencing/) - ngôn ngữ hợp đồng thông minh ( smart contract) cốt lõi của Cardano. Nhiều cải tiến đã được xác định phạm vi và phát triển với sự hỗ trợ của cộng đồng các nhà phát triển rộng lớn hơn và xuất phát từ các Đề xuất Cải tiến Cardano (CIP). Ngoài ra, một số nguyên bản mật mã mới sẽ được cung cấp và các quy trình xác thực tập lệnh sẽ tiếp tục chứng kiến các điều chỉnh và tối ưu hóa góp phần vào tính nhất quán trong thời gian truyền khối và tăng tốc độ xử lý giao dịch.

## **How we arrived here**

Since 2020's Byron reboot, Cardano has seen regular upgrades, enabling a community of over 3,000 SPOs to create and support an industry-defining decentralized proof-of-stake network.

Since the [Mary upgrade](https://iohk.io/en/blog/posts/2021/02/04/native-tokens-to-bring-new-utility-to-life-on-cardano/) (in early 2021), users have been able to create a variety of native assets to trade and exchange on the ledger. In September 2021, [Alonzo](https://iog.io/en/blog/posts/2021/09/12/today-will-feel-like-a-destination-yet-a-new-exciting-journey-begins/) introduced smart contract support, and Cardano has since steadily evolved into a fully-functional smart contract platform, with a rich NFT ecosystem and multiple [native tokens](https://nativetokens.da.iog.solutions/).

Cardano's evolution has facilitated a groundswell in DApp launches, with dozens already operating on mainnet, including multiple decentralized exchanges (DEXs) and NFT marketplaces. But that’s just the start – the IOG team is tracking over [1,000 projects](https://www.linkedin.com/posts/timbharrison_cardano-consensus2022-buildingoncardano-activity-6948656685037010944-7rr2?utm_source=linkedin_share&utm_medium=member_desktop_web) building on Cardano, and this likely underestimates the amount of work going on.

Bản nâng cấp Vasil sẽ cung cấp một số khả năng chính để cho phép các dự án tiếp theo khởi chạy cũng như cung cấp đường dẫn nâng cấp (mang lại tốc độ cao hơn, khả năng giao dịch và các tập lệnh mạnh mẽ hơn) cho các DApp hiện có. Với hard fork Vasil, tham số *d* cũng sẽ bị xóa vì quá trình sản xuất khối hiện đã được phi tập trung hoàn toàn; điều này sẽ ngăn việc liên kết lại. Chúng ta hãy xem xét kỹ hơn những thay đổi của Vasil.

### **Diffusion pipelining**

IOG đã và đang áp dụng một loạt các tối ưu hóa thông số cẩn thận, ổn định (chẳng hạn như kích thước khối và đơn vị bộ nhớ tập lệnh tăng lên) trong suốt năm 2022 để điều chỉnh và cải thiện hiệu suất mạng. [Diffusion pipelining](https://iog.io/en/blog/posts/2022/03/21/increasing-the-transaction-throughput-of-cardano/) nâng cấp mọi thứ lên một công cụ, bằng cách cải thiện thời gian truyền khối, do đó cho phép thông lượng cao hơn.

In essence, it streamlines the process of sharing information about newly created blocks among network participants by ensuring that blocks can be shared (propagated) in the network well within five seconds after their creation. For this, diffusion pipelining propagates blocks before their full validation, thus ‘overlapping’ the time spent on diffusion with the time needed on validation.

Pipelining also ensures that the block header referencing the hash of a previous block is propagated correctly. The body of the block is retained within the metadata included in the next block, which is essential for DDoS attack resistance even without full block confirmation.

Ultimately, diffusion pipelining will add scalability by enabling further block size increases and Plutus script improvements, as IOG continues to optimize the network throughout the rest of the year.

### **Cải tiến tập lệnh Plutus**

Vasil sẽ cải thiện hơn nữa nền tảng Plutus vốn đã mạnh mẽ, cho phép các nhà phát triển tạo DApp nhanh hơn, hiệu quả hơn. Tối ưu hóa cho các hợp đồng thông minh (smart contract) cho phép tận dụng tốt hơn [mô hình EUTXO của Cardano](https://iohk.io/en/blog/posts/2022/06/23/overview-of-the-research-enabling-smart-contract-support-on-cardano/) , bao gồm:

- Addition of **reference inputs** ([CIP-31](https://cips.cardano.org/cips/cip31/)). This upgrade enables data sharing on-chain. Previously, datums were carried in transaction outputs; they stored and provided access to information on the blockchain. However, to access information in this datum, one had to spend the output that the datum was attached to. This required the re-creation of a spent output. The addition of reference inputs now allows developers to look at the datum without extra steps. This facilitates access to information stored on the blockchain without the need for spending and re-creating UTXOs. This will be useful for oracles, for example.
- Addition of **inline datums** ([CIP-32](https://cips.cardano.org/cips/cip32/)). Transaction datums were previously attached to outputs as hashes. With the implementation of inline datums, developers can now create scripts and attach datums directly to outputs instead of using their hashes. This simplifies how datums are used – a user can see the actual datum rather than supply it to match the given hash.
- Thực hiện các **tập lệnh tham chiếu** ( [CIP-33](https://cips.cardano.org/cips/cip33/) ). Ở Alonzo, khi chi tiêu một đầu ra bị khóa trong tập lệnh Plutus, người ta phải đưa tập lệnh vào giao dịch chi tiêu. Điều này làm tăng kích thước của tập lệnh cũng gây ra sự chậm trễ nhất định trong quá trình xử lý của nó. Việc nâng cấp tập lệnh tham chiếu cho phép các nhà phát triển tham chiếu một tập lệnh mà không bao gồm nó trong mỗi giao dịch. Điều này [làm giảm đáng kể kích thước giao dịch, cải thiện thông lượng](https://iog.io/en/blog/posts/2022/04/13/boosting-cardano-s-throughput-with-script-referencing/) và giảm chi phí thực thi tập lệnh (vì tập lệnh chỉ cần được thanh toán một lần).

Các nhà phát triển cũng như người dùng DApp đều háo hức mong đợi những cải tiến này đối với Plutus. Tuy nhiên, điều quan trọng cần lưu ý là các nhà phát triển sẽ cần thời gian để sử dụng và triển khai các cải tiến của Plutus trong DApps của họ để tận dụng lợi thế và nhiều người cũng sẽ tìm kiếm một cuộc kiểm tra mới sau những thay đổi đáng kể đối với mã của họ.

#### **Plutus V2**

Bản nâng cấp Vasil cũng sẽ bao gồm các cải tiến về nguyên bản mật mã Cardano (cho phép các tùy chọn khả năng tương tác cao hơn cho các blockchain khác), trình thông dịch Plutus được điều chỉnh và mô hình chi phí mới, tất cả đều là một phần của tập lệnh Plutus V2.

- **Cải thiện tốc độ trình đánh giá Plutus** : Do cải tiến hiệu suất trong trình đánh giá Plutus, cả tập lệnh Plutus V1 và Plutus V2 đều có thông số mô hình chi phí thấp hơn trước, dẫn đến cải thiện 20-30% trong việc sử dụng tài nguyên tập lệnh.
- **Updated cost model parameters**: The updated cost model parameters extend the set of built-in functions by adding three new built-ins: ‘serialiseData’, ‘verifyEcdsaSecp256k1Signature’, and ‘verifySchnorrSecp256k1Signature’. The latter built-ins support ECDSA/SECP256K elliptic curve standards, which provides better interoperability between Cardano and other blockchains such as Bitcoin or Ethereum, for instance. A ‘serialiseData’ ([CIP-42](https://cips.cardano.org/cips/cip42/)) function reduces the overall memory and CPU costs allowing for more optimized and generic ways of data serialization.
- **Datums và redemers** : Sau khi nâng cấp Vasil, các nhà phát triển sẽ có thể nhìn thấy các redemers cho tất cả các đầu vào thay vì chỉ một dữ liệu được chuyển cho tập lệnh hiện đang thực thi.

Vì cần có một mô hình chi phí mới để kích hoạt Plutus V2, các khả năng của Plutus V2 sẽ khả dụng từ sau hard fork Vasil. Cũng cần lưu ý rằng Plutus V1 không thể sử dụng đầu vào tham chiếu, tập lệnh tham chiếu hoặc inline datums.

### **Các cải tiến khác**

Điều chỉnh tập lệnh tài sản thế chấp ( [CIP-40](https://github.com/cardano-foundation/CIPs/pull/216) ) là một điều chỉnh khác giúp cải thiện việc xác thực giao dịch. Trước đây, số tiền ký quỹ được đặt thành 150% phí giao dịch và không có thay đổi nào được cung cấp cho tài sản thế chấp UTXO. Điều này có nghĩa là nếu tập lệnh không xác thực được giai đoạn 2, người dùng DApp sẽ mất tất cả số tiền được lưu trữ trong UTXO được chọn cho tài sản thế chấp.

Sau Vasil, các nhà phát triển DApp sẽ có khả năng chỉ định địa chỉ thay đổi cho tài sản thế chấp tập lệnh. Nếu tập lệnh không xác thực giai đoạn 2, chỉ số tiền thế chấp sẽ được lấy và số tiền còn lại sẽ được gửi đến địa chỉ thay đổi.

Cuối cùng, Vasil tối ưu hóa quy trình Chức năng Ngẫu nhiên Có thể Xác minh (VRF) của Ouroboros. Trước Vasil, xác thực khối yêu cầu hai chức năng VRF trong mỗi bước chuyển mạng. Vasil bỏ một trong những chức năng này, dẫn đến xác nhận khối và thời gian đồng bộ hóa mạng nói chung nhanh hơn. Người dùng sẽ trải nghiệm hiệu suất cao hơn mà không ảnh hưởng đến sự bảo mật.

## **Sẵn sàng cho Vasil**

Việc nâng cấp Vasil thể hiện một bước thay đổi trong khả năng của Cardano. Diffusion pipelining sẽ cho phép thông lượng mạng lớn hơn, trong khi các cải tiến mới của Plutus sẽ mở ra các trường hợp sử dụng mới của nhà phát triển và cung cấp trải nghiệm người dùng DApp được cải thiện đáng kể.

Vasil is a complex program of work. Projects will need to check backward compatibility and SPOs will need to make some scripting adjustments. The community will now have a period of **four** weeks following the testnet hard fork to allow SPOs, developers, and exchanges to test and upgrade before the Cardano mainnet hard fork.

Mối quan tâm hàng đầu của chúng tôi là đảm bảo rằng quá trình nâng cấp được thực hiện một cách an toàn và bảo mật. Một khi các nhà phát triển và SPO cảm thấy thoải mái và sẵn sàng (và phần lớn các sàn giao dịch đã hoàn tất quá trình thử nghiệm và cập nhật), Vasil hard fork sẽ diễn ra.

Nếu bạn là chủ sở hữu ada sử dụng Cardano cho các giao dịch và DApp, bạn sẽ không cần phải làm bất cứ điều gì. Công nghệ HFC độc đáo của Cardano giúp cho việc nâng cấp cho người dùng cuối trở nên liền mạch và đơn giản. Tất cả những gì bạn phải làm là mong muốn đạt được hiệu quả cao hơn và thời gian xử lý giao dịch nhanh hơn.

Tuy nhiên, bạn có thể thấy một số gián đoạn dịch vụ nếu sàn giao dịch yêu thích của bạn chưa cập nhật hệ thống của họ tại thời điểm nâng cấp mạng. Vì vậy, chúng tôi khuyên bạn nên theo dõi các sàn giao dịch nào đã nâng cấp [tại đây](https://iohk.zendesk.com/hc/en-us/articles/7981157534105-Third-party-readiness-for-Vasil-upgrade) hoặc thông qua các trang hỗ trợ khách hàng của sàn giao dịch.

*Chúng tôi chắc chắn sẽ cập nhật cho bạn trong tháng tới hoặc lâu hơn qua Twitter và video của IOG. Cảm ơn từ tất cả nhóm đến tất cả Cộng đồng Cardano vì sự hỗ trợ liên tục của các bạn. Chúng tôi không thể làm điều này nếu không có các bạn.*

*I’d like to thank Olga Hryniuk, Kevin Hammond, Nigel Hemsley &amp; Vitor Silva for their support in creating this article.*
