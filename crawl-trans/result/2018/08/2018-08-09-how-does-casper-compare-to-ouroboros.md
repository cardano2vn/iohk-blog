# How does Casper compare to Ouroboros?
### **Differences between the proposed Ethereum protocols and Cardano’s consensus algorithm**
![](img/2018-08-09-how-does-casper-compare-to-ouroboros.002.png) 9 August 2018![](img/2018-08-09-how-does-casper-compare-to-ouroboros.002.png)[ Prof Aggelos Kiayias](/en/blog/authors/aggelos-kiayias/page-1/)![](img/2018-08-09-how-does-casper-compare-to-ouroboros.003.png) 13 mins read

![Prof Aggelos Kiayias](img/2018-08-09-how-does-casper-compare-to-ouroboros.004.png)[](/en/blog/authors/aggelos-kiayias/page-1/)
### [**Prof Aggelos Kiayias**](/en/blog/authors/aggelos-kiayias/page-1/)
Chief Scientist

Academic Research

- ![](img/2018-08-09-how-does-casper-compare-to-ouroboros.005.png)[](mailto:aggelos.kiayias@iohk.io "Email")
- ![](img/2018-08-09-how-does-casper-compare-to-ouroboros.006.png)[](tmp///www.youtube.com/watch?v=nB6eDbnkAk8 "YouTube")

![How does Casper compare to Ouroboros?](img/2018-08-09-how-does-casper-compare-to-ouroboros.007.jpeg)

**TL;DR** In response to recent discussions in social media, we give a brief comparison of the Ouroboros and Casper proof-of-stake protocols.

Ouroboros is a formally specified and analysed protocol with mathematically proven security guarantees based on clearly specified assumptions. The protocol description, models and proofs are all public. Hence, the underlying assumptions, the target protocol properties, and the respective correctness proofs can be publicly scrutinised. Ouroboros offers stake-based finality with the strongest possible guarantees in terms of the amount of stake backing up honest operation. It also provides a solid foundation over which services such as near instant finality of transactions can be offered in optimistic network conditions.

Regarding Casper, we are not aware of any currently published source that sufficiently describes the protocol's mode of operation nor any provable guarantees about it. Still, from what has been presented about Casper until now, as compared to Ouroboros, we can safely conclude that Casper provides much weaker guarantees in terms of how much stake the adversary needs to control in order to disrupt the protocol. Below, we compare the two protocols along several dimensions; for lack of proper documentation, many properties of Casper have to be assumed to the best of our knowledge.

-----
In response to a discussion [here](https://www.reddit.com/r/ethereum/comments/92f1u0/eli30_differences_between_casper_and_ouroboros/ "Differences between Casper and Ouroboros, Reddit") and [here](https://www.reddit.com/r/cardano/comments/92r3si/vitalik_allegations_against_ouroboros/ "Vitalik allegations against Ouroboros, Reddit"), we give a brief comparison of the Ouroboros proof-of-stake (PoS) protocol and Casper PoS. For Ouroboros, we refer to the [original version](https://eprint.iacr.org/2016/889 "Ouroboros: A Provably Secure Proof-of-Stake Blockchain Protocol, eprint") underlying the Cardano Settlement Layer (published at [Crypto 2017](https://www.iacr.org/conferences/crypto2017/ "Crypto 2017, iacr.org")), however most of our comments apply to later versions [Ouroboros Praos](https://eprint.iacr.org/2017/573 "Ouroboros Praos: An adaptively-secure, semi-synchronous proof-of-stake protocol, eprint") and [Ouroboros Genesis](https://eprint.iacr.org/2018/378 "Ouroboros Genesis: Composable Proof-of-Stake Blockchains with Dynamic Availability, eprint") as well. For Casper, we primarily refer to the Casper Friendly Finality Gadget (FFG) as described in the [white paper](https://arxiv.org/abs/1710.09437 "Casper the Friendly Finality Gadget, arxiv.org"), being the most recent Casper proposal that is sufficiently descriptive to draw a full comparison (other references include [Ethereum Mauve](https://docs.google.com/document/d/1maFT3cpHvwn29gLvtY4WcQiI6kRbN_nbCf3JlgR3m_8/edit "Ethereum 2.0 Mauve Paper"), [Casper+Sharding v2.1, FFG-RPJ](https://notes.ethereum.org/SCIg8AH5SA-O4C1G1LYZHQ?view "Casper+Sharding chain v2.1, ethereum.org"), [Casper TBG/CBC](https://github.com/ethereum/research/blob/master/papers/CasperTFG/CasperTFG.pdf "Casper the Friendly Ghost, github.com")). 

Any PoS ledger consensus protocol should satisfy two fundamental properties: persistence and liveness. The first ensures that the ledger is final and immutable. The second ensures that transactions broadcasted by honest parties are eventually included in the (immutable) ledger. Such properties, typically, cannot be proven unconditionally: they will rely on certain conditions, some of them cryptographic, e.g., that digital signatures cannot be forged, while others are related to the behaviour of the participants, e.g., that the players who follow the protocol control a majority of the stake. There are other desirable properties that a PoS protocol should satisfy (such as that executing the protocol as prescribed is the only rational strategy for the participants), but persistence and liveness as defined above constitute the bare minimum pair of fundamental properties necessary for ledger consensus. 

Let us now discuss some of the differences between the two protocols and their analyses.
### **Execution Model and [Falsifiability](https://en.wikipedia.org/wiki/Falsifiability "Falsifiability, wikipedia.org") of Claims**
The Ouroboros protocol is analyzed in a model that is fully described: it unambiguously defines all the participants’ programs, their execution and interactions, their communication – including network properties – and the potential corruption by an adversarial entity of any set of parties controlling a minority of the stake. Such a model allows the formulation of mathematically precise security guarantees satisfied by any execution, such as the persistence and liveness properties proven for Ouroboros. In particular, the formal modeling of Ouroboros permits precise, quantitative statements about stake bounds and settlement times; see below. **This makes all the claims we make about Ouroboros entirely concrete; there is nothing left up to interpretation or reader perspective.** Without such a model (notably missing in the Casper FFG white paper or in any other available sources related to Casper), it is impossible to prove the correctness of any claims about the protocol. Consensus protocols, in general, are complex objects; designing them without the development of rigorous mathematical arguments that establish the required properties can prove to be precarious as prior practice in secure systems design has shown. Good design intuition and best effort are just not sufficient when a ledger consensus protocol is supposed to carry assets worth billions.
### **A comprehensive solution to PoS ledger consensus**
Given the above, it is important to appreciate that the Ouroboros protocol is proven to provide persistence and liveness under clearly defined assumptions such as honest stake majority which is the bare minimum assumption needed in the PoS setting. On the other hand, Casper FFG, as described in the white paper, is an enhancement on top of a pre-existing “block proposal mechanism”, e.g., a PoW blockchain (namely Ethereum); in particular, its security guarantees as a ledger consensus protocol depend on the security of this proposal mechanism. As the authors of Casper FFG observe, “a wholly compromised block proposal mechanism will prevent Casper from finalizing new blocks”, hence the honest-majority-of-hashing power assumption is still necessary for Casper FFG’s liveness. Similarly, other versions of the Casper protocol, such as Casper FFG-RPJ, are incomplete and/or not accompanied by any proofs of security.
### **Stake Assumptions**
Ouroboros is proven to achieve persistence and liveness under the assumption of honest majority of all stake in the system, even in the case that some significant portions of stakeholders are not participating in the protocol (see e.g., Theorem 1 in the [Ouroboros Genesis](https://eprint.iacr.org/2018/378 "Ouroboros Genesis: Composable Proof-of-Stake Blockchains with Dynamic Availability, eprint") paper for the most comprehensive statement on Ouroboros security). In contrast, Casper requires a ⅔-fraction of deposited stake to be controlled by honest parties (see section 2.1 of the [white paper](https://arxiv.org/abs/1710.09437 "Casper the Friendly Finality Gadget, arxiv.org")). Since the deposited stake is blocked and cannot be used for other purposes in the meantime, it is reasonable to assume that the deposited stake will be a small fraction of the total stake in the system. Naturally, larger amounts of stake are more difficult to control so that basing security on the total stake in the system, as in Ouroboros, is a more prudent choice. As a concrete example, in the current sharded version of Ethereum (Ethereum Mauve paper or Casper+Sharding chain v2.1), a minimum of 32 ETH per validator is required with 100-128 validators per shard depending on the reference, without any other restriction. It follows that if the total deposited stake among all prospective validators turns out to be minimal and is not otherwise restricted then just a few thousand ETH would be enough to register a set of [sybil](https://en.wikipedia.org/wiki/Sybil_attack "Sybil Attack, wikipedia.org") validators that could disrupt the ledger consensus security properties.
### **Finality**
Though the notion is not formally defined in the Casper FFG white paper, it is easy to see that the property of “stake-based finality” is subsumed by persistence, the property that ensures that transactions become permanently part of the public immutable ledger; the stake-based adjective on finality used in Casper FFG refers to the fact that the condition under which finality is to be attained is based on stake as opposed to, e.g., a hashing power assumption. As mentioned above, no protocol can be deemed to solve the ledger consensus problem without providing persistence (and hence finality). In fact, all PoS protocols provide such properties only with a high probability – if for no other reason, cryptography can always fail with (very) small probability (for example, someone may guess your key). We do in fact know that Bitcoin and (pre-Casper) Ethereum provide finality (shown by the works of [GKL15](https://eprint.iacr.org/2014/765 "The Bitcoin Backbone Protocol: Analysis and Applications, eprint"), [GKL17](https://eprint.iacr.org/2016/1048 "The Bitcoin Backbone Protocol with Chains of Variable Difficulty") and [PSS17](https://eprint.iacr.org/2016/454 "Analysis of the Blockchain Protocol in Asynchronous Networks")) assuming honest majority of computational power), and so does Ouroboros, assuming honest majority of stake as shown in [KRDO17](https://eprint.iacr.org/2016/889 "Ouroboros: A Provably Secure Proof-of-Stake Blockchain Protocol, eprint"), [DGKR18](https://eprint.iacr.org/2017/573 "Ouroboros Praos: An adaptively-secure, semi-synchronous proof-of-stake protocol, eprint"), [BGKRZ18](https://eprint.iacr.org/2018/378 "Ouroboros Genesis: Composable Proof-of-Stake Blockchains with Dynamic Availability, eprint").

**Put simply, Ouroboros provides stake-based finality** and it does so with the strongest possible guarantee in terms of stake: against a malicious coalition controlling any amount of the total stake existing in the system as long as it is bounded below 50%. In the Casper FFG white paper, where Casper operates over the Ethereum blockchain, stake-based finality is provided every 100 blocks under the assumption that ⅔ of the deposited stake is honest. As a concrete example, in the same window of time, which is a little over half an hour in our current deployment, we can derive from our formal analysis that Ouroboros will offer finality against, say, a 10% stake adversary with probability of error less than 2^(-44). This is less than 1/10000000000000, one over ten trillion. To appreciate such small numbers, consider that it is expected to have one large asteroid hit the earth once every 100 million years ([Scientific American](https://www.scientificamerican.com/article/what-is-the-chance-of-an/ "What is the chance of an asteroid hitting Earth and how do astronomers calculate it?, scientificamerican.com")). Thus, it is 10 thousand times more likely that a big asteroid will hit the earth next month than that Ouroboros will reorganise its chain to drop a particular transaction after it has been included in the ledger for about half an hour.
### **Eventual Consensus vs. (near-)Instant finality**
Blockchain protocols like Bitcoin and Ouroboros are called eventual-consensus since they ensure that the irreversibility of a block increases gradually with the number of blocks that are added on top of it. This means that finality is more nuanced than just a true or false value, and is quantified by the probability of reverting a transaction as a function of the strength of the adversary and the length of time that has passed since the block containing that transaction was added. This design enables these protocols to work in the strongest possible adversarial settings and still be very efficient in terms of the number of messages that need to be exchanged; furthermore, they have the feature that the recipient of a transaction can decide for herself how important a transaction is and adjust her own notions of stability per transaction. Their downside is that they do not provide near-instant finality, or in other words, a fast assurance that the transaction will be finalised. This may be a potential advantage of classical BFT protocols that have inspired the design of Casper FFG as well as other protocols in the space including Algorand.

However, near-instant finality typically also comes with significant downsides in terms of the security model such as a much higher requirement of honest stake or, perhaps more importantly, a high degree of guaranteed online presence that must be offered by the participants following the protocol. This hurts the dynamic availability of the participants (see below) which is one of the hallmarks of the bitcoin era of consensus protocols. On the other hand, near-instant finality can be built as a service on top of Ouroboros and this is something that we will be releasing in due course. Moreover, we can argue that this is the best possible way forward: use the Ouroboros eventual consensus protocol which is secure under the strongest possible stake-based guarantees as the solid foundation over which services such as near-instant settlement in optimistic network conditions can be safely built.
### **Incentives and dynamic availability**
Casper FFG is inspired by pre-Bitcoin era standard BFT consensus protocols and as such it cannot handle uncertainty in terms of the number of participating entities once the set of validators becomes fixed. This means that the protocol cannot operate in the “[sleepy setting](https://eprint.iacr.org/2016/918 "The Sleepy Model of Consensus, eprint")” and “[dynamic availability](https://eprint.iacr.org/2018/378 "Ouroboros Genesis: Composable Proof-of-Stake Blockchains with Dynamic Availability, eprint")” setting, where a significant number of parties that are supposed to act in the protocol are unavailable due to network conditions, hardware failure or simply lack of interest. This is a significant concern in a decentralized setting where the execution of the protocol is not meant to be left in the hands of a few centralized-power actors, but is rather distributed proportionally among a great number of smaller players. The Casper-FFG white paper acknowledges this as the “Catastrophic Crash” scenario and observes that in this case “no future checkpoints can be finalized”. The authors propose a mitigation in the form of the so-called “inactivity leak.” This idea is only described informally as draining “the deposit of any validator that does not vote for checkpoints, until eventually its deposit sizes decrease low enough that the validators who are voting are a supermajority.” Unfortunately, this modification would in turn negate any potential advantage Casper can claim in face of network splits, as the authors also recognise: “The inactivity leak introduces the possibility of two conflicting checkpoints being finalized without any validator getting slashed.” This also affects the incentives running the protocol. Ouroboros allows for a natural and incentive-driven aggregation of stake into stake pools that will be performed over a period of time using our [stake pool reward mechanism](https://arxiv.org/abs/1807.11218 "Reward Sharing Schemes for Stake Pools, arxiv.org"), without forcing the behaviour of stakeholders onto a predetermined structure, while Casper has to impose preset numbers of block validators. 
### **Randomness**
While the original Ouroboros protocol does not use VRFs to generate protocol randomness (instead it uses a guaranteed-output-delivery coin-tossing protocol based on verifiable secret-sharing), the follow-up versions Praos and Genesis do so for performance gains. The VRFs proposed for use in Ouroboros Praos and Genesis are proven secure under standard cryptographic assumptions (such as the [Computational Diffie Hellman assumption](https://en.wikipedia.org/wiki/Computational_Diffie%E2%80%93Hellman_assumption "Computational Diffie Hellman assumption, wikipedia.org")) while the security analysis we have performed ensures Ouroboros’ resilience to randomness manipulation (see [Ouroboros Praos](https://eprint.iacr.org/2017/573 "Ouroboros Praos: An adaptively-secure, semi-synchronous proof-of-stake protocol, eprint") and [Ouroboros Genesis](https://eprint.iacr.org/2018/378 "Ouroboros Genesis: Composable Proof-of-Stake Blockchains with Dynamic Availability, eprint")). 
### **Network Assumptions**
Ouroboros is analysed in the “partially synchronous” setting where messages are delivered to the majority of the parties executing the protocol within a time window upper bounded by a network delay Δ which is unknown to the parties. The order of messages is adversarial and it is not guaranteed that two honest parties will receive messages in the same order. The adversary is allowed to inject arbitrary messages selectively to any of the parties. Casper makes no explicit claims about the network setting it operates in, nevertheless, when describing defenses against long range revisions it alludes to a similar type of model.
### **Sharding**
This property refers to the ability of a database or ledger consensus protocol to scale its processing power as more nodes (or processing capacity) enter the system, ideally with a linear speedup in the number of nodes added. Ouroboros Hydra, the scalable version of Ouroboros is in development and will be released in due time following our usual mode of discourse, i.e., the release of a full paper containing complete mathematical formulations of the problem that we solve, a full description of our protocol solution, as well as concrete statements about the protocol’s properties that are accompanied by all necessary proofs. At present, the version of Casper that enables sharding, ([Casper+Sharding v2.1](https://notes.ethereum.org/SCIg8AH5SA-O4C1G1LYZHQ?view "Casper+Sharding chain v2.1, ethereum.org")), is incomplete even in terms of protocol description, and as such, it cannot allow any proof of security. 

[Learn more about Ouroboros](https://www.youtube.com/watch?v=Nlmv4fg4NQk&list=PLnPTB0CuBOBw9H7dynFu9U25vqFWRw1UX "Ouroboros: A Provably Secure Proof-of-Stake YouTube").

*Team effort is a hallmark of IOHK research and this blog post is no exception. I am grateful to Christian Badertscher, Matthias Fitzi, Peter Gaži, Alexander Russell, Jeremy Wood, and Vassilis Zikas for various suggestions, comments, and corrections to the above text.*

Artwork, 

[](https://creativecommons.org/licenses/by/4.0/)

![Creative Commons](img/2018-08-09-how-does-casper-compare-to-ouroboros.008.png)

[](http://www.beeple-crap.com)

Mike Beeple
